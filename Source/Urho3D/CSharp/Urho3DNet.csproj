<Project Sdk="Microsoft.NET.Sdk" ToolsVersion="15.0">
  <PropertyGroup>
    <AssemblyName>Urho3DNet</AssemblyName>
    <OutputType>Library</OutputType>
    <LangVersion>7.2</LangVersion>
    <ProjectGuid>{3AFB9939-96CE-36A9-9740-54DCD7B2DE94}</ProjectGuid>
    <PackageId>rbfx.Urho3DNet</PackageId>
    <Version>0.0.3.0-alpha</Version>
    <Authors>Rokas Kupstys</Authors>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <RepositoryUrl>https://github.com/rokups/rbfx</RepositoryUrl>
    <Description>rbfx game engine package for C#</Description>
    <PackageTags>rbfx Urho3D gamedev csharp dotnet gameengine</PackageTags>
  </PropertyGroup>
  <PropertyGroup>
    <GeneratedCodePath>$(RBFX_BINARY_DIR)Source/Urho3D/</GeneratedCodePath>
    <CoreCompileDependsOn>GatherBuildFilesUrho3D;GatherBuildFilesImGui;$(CoreCompileDependsOn)</CoreCompileDependsOn>
  </PropertyGroup>
  <ItemGroup>
    <BindingsSourceCodeUrho3D Include="$(GeneratedCodePath)Urho3DCSharp/*.cs" />
    <BindingsSourceCodeImGui Include="$(GeneratedCodePath)ImGuiCSharp/*.cs" />
    <Compile Include="Managed\Container\RefCounted.cs" />
    <Compile Include="Managed\Container\StringHash.cs" />
    <Compile Include="Managed\Core\Context.cs" />
    <Compile Include="Managed\Core\Object.cs" />
    <Compile Include="Managed\Core\Variant.cs" />
    <Compile Include="Managed\Engine\PluginApplication.cs" />
    <Compile Include="Managed\FileSystem\FileSystemExtensions.cs" />
    <Compile Include="Managed\IO\Archive.cs" />
    <Compile Include="Managed\IO\Log.cs" />
    <Compile Include="Managed\Math\BoundingBox.cs" />
    <Compile Include="Managed\Math\Color.cs" />
    <Compile Include="Managed\Math\IntRect.cs" />
    <Compile Include="Managed\Math\IntVector2.cs" />
    <Compile Include="Managed\Math\IntVector3.cs" />
    <Compile Include="Managed\Math\MathDefs.cs" />
    <Compile Include="Managed\Math\Matrix2.cs" />
    <Compile Include="Managed\Math\Matrix3.cs" />
    <Compile Include="Managed\Math\Matrix3x4.cs" />
    <Compile Include="Managed\Math\Matrix4.cs" />
    <Compile Include="Managed\Math\Plane.cs" />
    <Compile Include="Managed\Math\Quaternion.cs" />
    <Compile Include="Managed\Math\Ray.cs" />
    <Compile Include="Managed\Math\Rect.cs" />
    <Compile Include="Managed\Math\Sphere.cs" />
    <Compile Include="Managed\Math\Vector2.cs" />
    <Compile Include="Managed\Math\Vector3.cs" />
    <Compile Include="Managed\Math\Vector4.cs" />
    <Compile Include="Managed\Navigation\CrowdManager.cs" />
    <Compile Include="Managed\Resource\ResourceCache.cs" />
    <Compile Include="Managed\Scene\Node.cs" />
    <Compile Include="Managed\Scene\Serializable.cs" />
    <Compile Include="Managed\Script\InstanceCache.cs" />
    <Compile Include="Managed\Script\Reflection.cs" />
    <Compile Include="Managed\Script\ScriptRuntimeApiImpl.cs" />
    <Compile Include="Managed\Urho3D.cs" />
    <Compile Include="Managed\Scene\VertexBuffer.cs" />
    <Compile Include="$(RBFX_BINARY_DIR)Source/Urho3D/Urho3DCSharp/Managed/*.cs" />
    <Compile Include="@(BindingsSourceCodeUrho3D)" />
    <Compile Include="@(BindingsSourceCodeImGui)" />
  </ItemGroup>
  <Target Name="GatherBuildFilesUrho3D" BeforeTargets="CoreCompile" Condition="'@(BindingsSourceCodeUrho3D)' == ''">
    <ItemGroup>
      <BindingsSourceCodeUrho3D Include="$([System.IO.Directory]::GetFiles(&quot;$(GeneratedCodePath)Urho3DCSharp&quot;, &quot;*.cs&quot;))" />
      <Compile Include="@(BindingsSourceCodeUrho3D)" />
    </ItemGroup>
  </Target>
  <Target Name="GatherBuildFilesImGui" BeforeTargets="CoreCompile" Condition="'@(BindingsSourceCodeImGui)' == ''">
    <ItemGroup>
      <BindingsSourceCodeImGui Include="$([System.IO.Directory]::GetFiles(&quot;$(GeneratedCodePath)ImGuiCSharp&quot;, &quot;*.cs&quot;))" />
      <Compile Include="@(BindingsSourceCodeImGui)" />
    </ItemGroup>
  </Target>
  <ItemGroup>
    <PackageReference Include="System.Numerics.Vectors" Version="4.5.0" />
  </ItemGroup>
  <ItemGroup Condition=" '$(OS)' == 'Windows_NT' And '$(NoBuild)' == 'true' And '$(ExcludeRestorePackageImports)' != 'true' ">
    <Content Include="../../../LICENSE">
      <PackagePath>.</PackagePath>
    </Content>
    <Content Include="$(CMAKE_RUNTIME_OUTPUT_DIRECTORY)CoreData/**">
      <PackagePath>content/CoreData/%(RecursiveDir)%(Filename)%(Extension)</PackagePath>
    </Content>
    <Content Include="build/**">
      <PackagePath>build/%(RecursiveDir)%(Filename)%(Extension)</PackagePath>
    </Content>
    <Content Include="C:/rbfx/cmake-build/bin/RelWithDebInfo/Urho3D.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <PackagePath>runtimes/win-x64/native/</PackagePath>
      <Link>Urho3D.dll</Link>
    </Content>
    <Content Include="C:/rbfx/cmake-build/bin/RelWithDebInfo/Urho3D.pdb">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <PackagePath>runtimes/win-x64/native/</PackagePath>
      <Link>Urho3D.pdb</Link>
    </Content>
  </ItemGroup>
</Project>